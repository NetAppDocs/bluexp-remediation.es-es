---
sidebar: sidebar 
permalink: task-define-templates.html 
keywords: templates, resource templates, services templates, volume templates, cvo working environment template, find volumes 
summary: 'Seleccione una o varias de las "acciones" proporcionadas por NetApp y cree rápidamente una plantilla de aplicación que pueda utilizar su organización para empezar a optimizar la creación de recursos.' 
---
= Cree plantillas de aplicación para su organización
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Seleccione una o varias de las "acciones" proporcionadas por NetApp y cree rápidamente una plantilla de aplicación que pueda utilizar su organización para empezar a optimizar la creación de recursos.



== Inicio rápido

Empiece rápidamente siguiendo estos pasos o desplácese hacia abajo hasta las secciones restantes para obtener todos los detalles.

.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-1.png["Uno"] Verifique los requisitos previos necesarios
[role="quick-margin-list"]
* Antes de que los usuarios puedan crear un volumen para un sistema Cloud Volumes ONTAP, ONTAP en las instalaciones o Azure NetApp Files con una plantilla, asegúrese de que tienen acceso a un entorno de trabajo adecuado donde se pondrá en marcha el volumen.


[role="quick-margin-list"]
* Si tiene pensado agregar una "acción" de servicio cloud a su plantilla, por ejemplo https://docs.netapp.com/us-en/bluexp-backup-recovery/concept-ontap-backup-to-cloud.html["Backup y recuperación de BlueXP"^] o. https://docs.netapp.com/us-en/bluexp-classification/concept-cloud-compliance.html["Clasificación de BlueXP"^], asegúrese de que el servicio esté activo y con licencia en su entorno.


.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-2.png["Dos"] Inicie el servicio Plantillas de aplicación
[role="quick-margin-para"]
Seleccione *Estado > resolución*, haga clic en la ficha *Editor* y seleccione las acciones que utilizará en su plantilla.

.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-3.png["Tres"] Genere la plantilla seleccionando "acciones" y definiendo parámetros
[role="quick-margin-para"]
Siga los pasos de creación y defina las acciones que realizará la plantilla.



== Requisitos

Lea los siguientes requisitos para asegurarse de tener una configuración compatible.

* Si aún no tiene un conector, https://docs.netapp.com/us-en/bluexp-setup-admin/concept-connectors.html["Vea cómo crear conectores"^] Para AWS, Azure y GCP.
* Al crear una plantilla de volumen de Cloud Volumes ONTAP, asegúrese de que dispone de un entorno de trabajo Cloud Volumes ONTAP para los usuarios. Compruebe cómo se inicia un sistema Cloud Volumes ONTAP en https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-getting-started-aws.html["AWS"^], https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-getting-started-azure.html["Azure"^], o en https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-getting-started-gcp.html["GCP"^].
* Al crear una plantilla de volumen ONTAP en las instalaciones, asegúrese de que tiene disponible un entorno de trabajo ONTAP en las instalaciones para sus usuarios. Descubra cómo https://docs.netapp.com/us-en/bluexp-ontap-onprem/task-discovering-ontap.html["Descubra un sistema ONTAP en las instalaciones"^] En BlueXP.
* Al crear una plantilla de volumen Azure NetApp Files, asegúrese de que tiene un entorno de trabajo Azure NetApp Files disponible para los usuarios. Descubra cómo https://docs.netapp.com/us-en/bluexp-azure-netapp-files/task-quick-start.html["Crear un entorno de trabajo de Azure NetApp Files"^] En BlueXP.
* Si tienes pensado utilizar el backup y la recuperación de datos de BlueXP para realizar una copia de seguridad de un volumen en la plantilla, asegúrate de que tu entorno haya activado el backup y la recuperación de BlueXP.
* Si tienes pensado utilizar la clasificación de BlueXP para analizar volúmenes de la plantilla, asegúrate de que tu entorno haya activado la clasificación de BlueXP.
* Si tienes pensado habilitar la replicación de BlueXP en la plantilla y la plantilla es para un volumen de ONTAP en las instalaciones, el clúster de ONTAP debe tener una licencia de SnapMirror activa.




== Ejemplos de creación de recursos mediante plantillas

Las plantillas de recursos le permiten crear nuevos volúmenes o un nuevo entorno de trabajo de Cloud Volumes ONTAP.



=== Cree una plantilla para un volumen de Cloud Volumes ONTAP

Consulte https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-create-volumes.html["cómo aprovisionar volúmenes de Cloud Volumes ONTAP"^] Para obtener información detallada sobre todos los parámetros que necesita completar en la plantilla de volumen Cloud Volumes ONTAP.

En este ejemplo crearemos una plantilla llamada "volumen CVO para bases de datos" e incluiremos las dos acciones siguientes:

* Cree un volumen de Cloud Volumes ONTAP
+
Haga un volumen para el entorno AWS, configúrelo con 100 GB de almacenamiento, establezca la Política de Snapshot en "valor predeterminado" y habilite la eficiencia del almacenamiento.

* Habilita el backup y la recuperación de datos de BlueXP
+
Crear 30 copias de seguridad diarias, 13 semanales y 3 mensuales (utilizando la política de retención_ de _3 meses).



.Pasos
. Seleccione *Estado > resolución*, haga clic en la ficha *Plantillas* y haga clic en *Agregar nueva plantilla*.
+
Se muestra la página _Select_a Template_.

+
image:screenshot_create_template_primary_action_cvo.png["Una captura de pantalla que muestra cómo seleccionar la acción principal que se realizará con esta plantilla."]

. Seleccione *volumen para Cloud Volumes ONTAP + copia de seguridad* como el tipo de recurso que desea crear y haga clic en *comenzar*.
+
Se muestra la página _Create Volume in Cloud Volumes ONTAP Action Definition_.

+
image:screenshot_create_template_define_action_cvo.png["Captura de pantalla que muestra una plantilla de CVO en blanco que necesita rellenar."]

. *Nombre de acción*: De forma opcional, escriba un nombre de acción personalizado en lugar del valor predeterminado.
. *Contexto:* Introduzca el contexto del entorno de trabajo Cloud Volumes ONTAP; si es necesario.
+
Cuando los usuarios inician la plantilla desde un entorno de trabajo existente, esta información se rellena automáticamente.

+
Cuando los usuarios inician la plantilla desde el Panel de plantillas (no en un contexto de entorno de trabajo), deben seleccionar el entorno de trabajo y la SVM donde se creará el volumen. Por eso estos campos se marcan como "editables".

. *Detalles:* Introduzca el nombre y el tamaño del volumen.
+
[cols="25,75"]
|===
| Campo | Descripción 


| Nombre del volumen | Haga clic en el campo y seleccione una de las 5 opciones. Puede dejar que el administrador escriba cualquier nombre seleccionando *texto libre*, o puede especificar que el nombre del volumen debe tener un prefijo o sufijo determinado, que contiene ciertos caracteres, o que sigue las reglas de una expresión regular (regex) que introduzca. Por ejemplo, puede especificar que "dB" sea un prefijo, sufijo o contiene; requerir que el usuario agregue nombres de volumen como "dB_vol1", "vol1_dB" o "vol_dB_1". 


| Tamaño del volumen | Puede especificar un rango de valores permitidos o puede especificar un tamaño fijo. Este valor se da en GB. Para nuestro ejemplo podemos agregar un valor fijo *100*. 


| Etiquetas | Introduzca un nombre y una pareja de valores para una etiqueta que desee asociar a este volumen. Por ejemplo, puede agregar "Centro de costes" como nombre de etiqueta y el código de centro de costes "6655829" como valor. Es posible asociar más de una etiqueta a un volumen. Para ello, se deben añadir más nombres de etiqueta y parejas de valores. 
|===
. *Protección:* Elija si este volumen tendrá copias snapshot creadas seleccionando "predeterminado" o alguna otra directiva, o bien elija "ninguna" si no desea crear copias snapshot.
. *Perfil de uso:* Elija si las funciones de eficiencia del almacenamiento de NetApp se aplican al volumen. Esto incluye thin provisioning, deduplicación y compresión. Para nuestro ejemplo, mantenga la eficiencia del almacenamiento habilitada.
. *Tipo de disco:* Elija el proveedor de almacenamiento en la nube y el tipo de disco. Para algunas selecciones de disco también puede seleccionar un valor de IOPS o rendimiento (MB/s) mínimo y máximo; básicamente, defina un cierto valor de calidad de servicio (QoS).
. *Opciones de protocolo:* Seleccione *NFS* o *SMB* para establecer el protocolo del volumen. Y, a continuación, proporcione los detalles del protocolo.
+
[cols="25,75"]
|===
| Campos NFS | Descripción 


| Control de accesos | Elija si se necesitan controles de acceso para acceder al volumen. 


| Política de exportación | Cree una política de exportación para definir los clientes de la subred que puedan acceder al volumen. 


| Versión de NFS | Seleccione la versión de NFS del volumen: _NFSv3_ o _NFSv4_, o puede seleccionar ambas. 
|===
+
[cols="25,75"]
|===
| Campos de SMB | Descripción 


| Nombre del recurso compartido | Haga clic en el campo y seleccione una de las 5 opciones. Puede dejar que el administrador escriba cualquier nombre (texto libre) o puede especificar que el nombre del recurso compartido debe tener un prefijo o sufijo determinado, que contiene ciertos caracteres o que sigue las reglas de una expresión regular (regex) que escriba. 


| Permisos | Seleccione el nivel de acceso a un recurso compartido para usuarios y grupos (también llamados listas de control de acceso o ACL). 


| Usuarios / grupos | Especifique usuarios o grupos de Windows locales o de dominio, o usuarios o grupos de UNIX. Si especifica un nombre de usuario de Windows de dominio, debe incluir el dominio del usuario con el formato domain\username. 
|===
. *Segmentación:* Elija la política de organización en niveles que desea aplicar al volumen o establezca esta opción en "ninguna" si no desea organizar en niveles los datos inactivos de este volumen en el almacenamiento de objetos.
+
Consulte https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/concept-data-tiering.html#volume-tiering-policies["políticas de organización en niveles del volumen"^] para ver información general, consulte https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-tiering.html["Organización en niveles de los datos inactivos en el almacenamiento de objetos"^] para asegurarse de que su entorno esté configurado para la organización en niveles.

. Haga clic en *aplicar* después de definir los parámetros necesarios para esta acción.
+
Si los valores de la plantilla se completan correctamente, se añade una Marca de verificación verde al cuadro "Crear volumen en Cloud Volumes ONTAP".

. Haga clic en la casilla *Enable Cloud Backup on Volume* y se mostrará el cuadro de diálogo _Enable Cloud Backup on Volume Action Definition_ para que pueda completar los detalles de la copia de seguridad y la recuperación de BlueXP.
+
image:screenshot_create_template_add_action.png["Captura de pantalla que muestra las acciones adicionales que puede añadir al volumen creado."]

. Seleccione la política de copias de seguridad de *3 meses Retention* para crear 30 copias de seguridad diarias, 13 semanales y 3 mensuales.
. Debajo de los campos entorno de trabajo y nombre de volumen hay tres selecciones que utiliza para indicar qué volumen tendrá habilitada la copia de seguridad. Consulte link:reference-template-building-blocks.html#pass-values-between-template-actions["cómo completar estos campos"].
. Haga clic en *Aplicar* y se guardará el cuadro de diálogo de copia de seguridad y recuperación de BlueXP.
. Introduzca el nombre de plantilla *volumen CVO para bases de datos* (para este ejemplo) en la parte superior izquierda.
. Haga clic en *Configuración y deriva* para obtener una descripción más detallada de modo que esta plantilla pueda distinguirse de otras plantillas similares y, por lo tanto, puede activar deriva para la plantilla general y, a continuación, haga clic en *aplicar*.
+
Drift permite a BlueXP supervisar los valores codificados de forma rígida introducidos para los parámetros al crear esta plantilla.

. Haga clic en *Guardar plantilla*.


.Resultado
Se crea la plantilla y se devuelve al Panel de plantillas donde aparece la nueva plantilla.

Consulte <<Qué hacer después de crear la plantilla,qué debe informar a sus usuarios acerca de las plantillas>>.



=== Cree una plantilla para un volumen Azure NetApp Files

La creación de una plantilla para un volumen Azure NetApp Files se realiza de la misma manera que la creación de una plantilla para un volumen Cloud Volumes ONTAP.

Consulte https://docs.netapp.com/us-en/bluexp-azure-netapp-files/task-create-volumes.html#create-volumes["cómo aprovisionar volúmenes de Azure NetApp Files"^] Para obtener detalles acerca de todos los parámetros que necesita completar en la plantilla de volumen ANF.

.Pasos
. Seleccione *Estado > resolución*, haga clic en la ficha *Plantillas* y haga clic en *Agregar nueva plantilla*.
+
Se muestra la página _Select_a Template_.

+
image:screenshot_create_template_primary_action_blank.png["Una captura de pantalla que muestra cómo seleccionar la acción principal que se realizará con esta plantilla."]

. Seleccione *plantilla en blanco* y haga clic en *comenzar*.
. Seleccione *Crear volumen en Azure NetApp Files* como el tipo de recurso que desea crear y haga clic en *aplicar*.
+
Se muestra la página _Create Volume in Azure NetApp Files Action Definition_.

+
image:screenshot_create_template_define_action_anf.png["Captura de pantalla que muestra una plantilla ANF en blanco que necesita rellenar."]

. *Nombre de acción*: De forma opcional, escriba un nombre de acción personalizado en lugar del valor predeterminado.
. *Detalles del volumen:* Introduzca un nombre y tamaño de volumen y, opcionalmente, especifique etiquetas para el volumen.
+
[cols="25,75"]
|===
| Campo | Descripción 


| Nombre del volumen | Haga clic en el campo y seleccione una de las 5 opciones. Puede dejar que el administrador escriba cualquier nombre seleccionando *texto libre*, o puede especificar que el nombre del volumen debe tener un prefijo o sufijo determinado, que contiene ciertos caracteres, o que sigue las reglas de una expresión regular (regex) que introduzca. Por ejemplo, puede especificar que "dB" sea un prefijo, sufijo o contiene; requerir que el usuario agregue nombres de volumen como "dB_vol1", "vol1_dB" o "vol_dB_1". 


| Tamaño del volumen | Puede especificar un rango de valores permitidos o puede especificar un tamaño fijo. Este valor se da en GB. 


| Etiquetas | Introduzca un nombre y una pareja de valores para una etiqueta que desee asociar a este volumen. Por ejemplo, puede agregar "Centro de costes" como nombre de etiqueta y el código de centro de costes "6655829" como valor. Es posible asociar más de una etiqueta a un volumen. Para ello, se deben añadir más nombres de etiqueta y parejas de valores. 
|===
. *Protocolo:* Seleccione *NFSv3*, *NFSv4.1* o *SMB* para establecer el protocolo del volumen. Y, a continuación, proporcione los detalles del protocolo.
+
[cols="25,75"]
|===
| Campos NFS | Descripción 


| Ruta del volumen | Seleccione una de las 5 opciones. Puede permitir que el administrador escriba cualquier ruta de acceso seleccionando *texto libre*, o puede especificar que el nombre de la ruta de acceso debe tener un prefijo o sufijo determinado, que _contenga_ determinados caracteres o que siga las reglas de una expresión regular (regex) que introduzca. 


| Reglas de la política de exportación | Cree una política de exportación para definir los clientes de la subred que puedan acceder al volumen. 
|===
+
[cols="25,75"]
|===
| Campos de SMB | Descripción 


| Ruta del volumen | Seleccione una de las 5 opciones. Puede permitir que el administrador escriba cualquier ruta de acceso seleccionando *texto libre*, o puede especificar que el nombre de la ruta de acceso debe tener un prefijo o sufijo determinado, que _contenga_ determinados caracteres o que siga las reglas de una expresión regular (regex) que introduzca. 
|===
. *Contexto:* Introduzca el entorno de trabajo Azure NetApp Files, los detalles de una cuenta Azure NetApp Files nueva o existente y otros detalles.
+
[cols="25,75"]
|===
| Campo | Descripción 


| Entorno de trabajo | Cuando los usuarios del administrador del almacenamiento inician la plantilla desde un entorno de trabajo existente, esta información se rellena automáticamente. Cuando los usuarios inician la plantilla desde el Panel de plantillas (no en un contexto de entorno de trabajo), deben seleccionar el entorno de trabajo donde se creará el volumen. 


| Nombre de cuenta de NetApp | Introduzca el nombre que desee usar para la cuenta. 


| ID de suscripción de Azure | Introduzca el ID de suscripción de Azure. Este es el ID completo en un formato similar a "2b04f26-7de6-42eb-9234-e2903d7s327". 


| Región | Introduzca la región mediante https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.documents.locationnames?view=azure-dotnet#fields["nombre de región interna"^]. 


| Nombre del grupo de recursos | Introduzca el nombre del grupo de recursos que desee usar. 


| Nombre del pool de capacidad | Introduzca el nombre de un pool de capacidad existente. 


| Subred | Introduzca el vnet y la subred. Este valor incluye la ruta completa, en un formato similar a "/subscriptions/<subscription_id>/ResourceGroups/<resource_group>/ providers/Microsoft.Network/virtualNetworks/<vpc_name>/Subnets/<subhet_name>". 
|===
. *Copia snapshot:* Introduzca el ID de instantánea para una instantánea de volumen existente si desea que este nuevo volumen se cree utilizando características de un volumen existente.
. Haga clic en *aplicar* después de definir los parámetros necesarios para esta acción.
. Introduzca el nombre que desea utilizar para la plantilla en la parte superior izquierda.
. Haga clic en *Configuración y deriva* para obtener una descripción más detallada de modo que esta plantilla pueda distinguirse de otras plantillas similares y, por lo tanto, puede activar deriva para la plantilla general y, a continuación, haga clic en *aplicar*.
+
Drift permite a BlueXP supervisar los valores codificados de forma rígida introducidos para los parámetros al crear esta plantilla.

. Haga clic en *Guardar plantilla*.


.Resultado
Se crea la plantilla y se devuelve al Panel de plantillas donde aparece la nueva plantilla.

Consulte <<Qué hacer después de crear la plantilla,qué debe informar a sus usuarios acerca de las plantillas>>.



=== Cree una plantilla para un volumen de ONTAP en las instalaciones

Consulte https://docs.netapp.com/us-en/bluexp-ontap-onprem/task-manage-ontap-connector.html#create-volumes["cómo aprovisionar volúmenes de ONTAP en las instalaciones"^] Si desea obtener información detallada sobre todos los parámetros necesarios para completar en la plantilla de volumen de ONTAP en las instalaciones.

.Pasos
. Seleccione *Estado > resolución*, haga clic en la ficha *Plantillas* y haga clic en *Agregar nueva plantilla*.
+
Se muestra la página _Select_a Template_.

+
image:screenshot_create_template_primary_action_blank.png["Una captura de pantalla que muestra cómo seleccionar la acción principal que se realizará con esta plantilla."]

. Seleccione *plantilla en blanco* y haga clic en *comenzar*.
+
Aparecerá la página _Add New Action_.

+
image:screenshot_create_template_primary_action_onprem.png["Una captura de pantalla que muestra cómo seleccionar la acción principal de la página Agregar nueva acción."]

. Seleccione *Crear volumen en ONTAP* local como el tipo de recurso que desea crear y haga clic en *aplicar*.
+
Se muestra la página _Create Volume in on-local ONTAP Action Definition_.

+
image:screenshot_create_template_define_action_onprem.png["Captura de pantalla que muestra una plantilla de ONTAP onprem en blanco que necesita rellenar."]

. *Nombre de acción*: De forma opcional, escriba un nombre de acción personalizado en lugar del valor predeterminado.
. *Context:* Introduzca el contexto de entorno de trabajo de ONTAP en las instalaciones; si es necesario.
+
Cuando los usuarios inician la plantilla desde un entorno de trabajo existente, esta información se rellena automáticamente.

+
Cuando los usuarios inician la plantilla desde el Panel de plantillas (no en un contexto de entorno de trabajo), deben seleccionar el entorno de trabajo, la SVM y el agregado donde se creará el volumen.

. *Detalles:* Introduzca el nombre y el tamaño del volumen.
+
[cols="25,75"]
|===
| Campo | Descripción 


| Nombre del volumen | Haga clic en el campo y seleccione una de las 5 opciones. Puede dejar que el administrador escriba cualquier nombre seleccionando *texto libre*, o puede especificar que el nombre del volumen debe tener un prefijo o sufijo determinado, que contiene ciertos caracteres, o que sigue las reglas de una expresión regular (regex) que introduzca. Por ejemplo, puede especificar que "dB" sea un prefijo, sufijo o contiene; requerir que el usuario agregue nombres de volumen como "dB_vol1", "vol1_dB" o "vol_dB_1". 


| Tamaño del volumen | Puede especificar un rango de valores permitidos o puede especificar un tamaño fijo. Este valor se da en GB. Para nuestro ejemplo podemos agregar un valor fijo *100*. 


| Etiquetas | Introduzca un nombre y una pareja de valores para una etiqueta que desee asociar a este volumen. Por ejemplo, puede agregar "Centro de costes" como nombre de etiqueta y el código de centro de costes "6655829" como valor. Es posible asociar más de una etiqueta a un volumen. Para ello, se deben añadir más nombres de etiqueta y parejas de valores. 
|===
. *Protección:* Elija si este volumen tendrá copias snapshot creadas seleccionando "predeterminado" o alguna otra directiva, o bien elija "ninguna" si no desea crear copias snapshot.
. *Perfil de uso:* Elija si las funciones de eficiencia del almacenamiento de NetApp se aplican al volumen. Esto incluye thin provisioning, deduplicación y compresión.
. *Opciones de protocolo:* Seleccione *NFS* o *SMB* para establecer el protocolo del volumen. Y, a continuación, proporcione los detalles del protocolo.
+
[cols="25,75"]
|===
| Campos NFS | Descripción 


| Control de accesos | Elija si se necesitan controles de acceso para acceder al volumen. 


| Política de exportación | Cree una política de exportación para definir los clientes de la subred que puedan acceder al volumen. 


| Versión de NFS | Seleccione la versión de NFS del volumen: _NFSv3_ o _NFSv4_, o puede seleccionar ambas. 
|===
+
[cols="25,75"]
|===
| Campos de SMB | Descripción 


| Nombre del recurso compartido | Haga clic en el campo y seleccione una de las 5 opciones. Puede dejar que el administrador escriba cualquier nombre (texto libre) o puede especificar que el nombre del recurso compartido debe tener un prefijo o sufijo determinado, que contiene ciertos caracteres o que sigue las reglas de una expresión regular (regex) que escriba. 


| Permisos | Seleccione el nivel de acceso a un recurso compartido para usuarios y grupos (también llamados listas de control de acceso o ACL). 


| Usuarios / grupos | Especifique usuarios o grupos de Windows locales o de dominio, o usuarios o grupos de UNIX. Si especifica un nombre de usuario de Windows de dominio, debe incluir el dominio del usuario con el formato domain\username. 
|===
. Haga clic en *aplicar* después de definir los parámetros necesarios para esta acción.
+
Si los valores de la plantilla se completan correctamente, se añade una Marca de verificación verde al cuadro "Crear volumen en ONTAP local".

. Introduzca el nombre de la plantilla en la parte superior izquierda.
. Haga clic en *Configuración y deriva* para obtener una descripción más detallada de modo que esta plantilla pueda distinguirse de otras plantillas similares y, por lo tanto, puede activar deriva para la plantilla general y, a continuación, haga clic en *aplicar*.
+
Drift permite a BlueXP supervisar los valores codificados de forma rígida introducidos para los parámetros al crear esta plantilla.

. Haga clic en *Guardar plantilla*.


.Resultado
Se crea la plantilla y se devuelve al Panel de plantillas donde aparece la nueva plantilla.

Consulte <<Qué hacer después de crear la plantilla,qué debe informar a sus usuarios acerca de las plantillas>>.



=== Cree una plantilla para un entorno de trabajo de Cloud Volumes ONTAP

Puede crear un entorno de trabajo Cloud Volumes ONTAP de un solo nodo o de alta disponibilidad mediante plantillas.

[NOTE]
====
* En este momento, solo se ofrece compatibilidad para entornos AWS.
* Esta plantilla no crea el primer volumen en el entorno de trabajo. Debe añadir una acción "Crear volumen en Cloud Volumes ONTAP" en la plantilla para crear el volumen.


====
Consulte https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-deploying-otc-aws.html#launching-a-single-node-cloud-volumes-ontap-system-in-aws["cómo iniciar el sistema Cloud Volumes ONTAP de un único nodo en AWS"^] o a https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-deploying-otc-aws.html#launching-a-cloud-volumes-ontap-ha-pair-in-aws["Par de alta disponibilidad de Cloud Volumes ONTAP en AWS"^] para los requisitos previos que deben estar vigentes y para obtener detalles sobre todos los parámetros que deberá definir en esta plantilla.

.Pasos
. Seleccione *Estado > resolución*, haga clic en la ficha *Plantillas* y haga clic en *Agregar nueva plantilla*.
+
Se muestra la página _Select_a Template_.

+
image:screenshot_create_template_primary_action_blank.png["Una captura de pantalla que muestra cómo seleccionar la acción principal que se realizará con esta plantilla."]

. Seleccione *plantilla en blanco* y haga clic en *comenzar*.
+
Aparecerá la página _Add New Action_.

+
image:screenshot_create_template_cvo_env_aws.png["Una captura de pantalla que muestra cómo seleccionar la acción principal de la página Agregar nueva acción."]

. Seleccione *Crear entorno de trabajo en AWS (nodo único)* o *Crear entorno de trabajo en AWS (alta disponibilidad)* como el tipo de recurso que desea crear y haga clic en *aplicar*.
+
Para este ejemplo, se muestra la página _Create Working Environment in AWS (un solo nodo)_.

+
image:screenshot_create_template_cvo_env_aws1.png["Captura de pantalla que muestra una plantilla de entorno de trabajo de Cloud Volumes ONTAP en blanco que debe rellenar."]

. *Nombre de acción*: De forma opcional, escriba un nombre de acción personalizado en lugar del valor predeterminado.
. *Detalles y credenciales*: Seleccione las credenciales de AWS que desea utilizar, introduzca un nombre de entorno de trabajo y agregue etiquetas, si es necesario.
+
Algunos de los campos en esta página son claros y explicativos. En la siguiente tabla se describen los campos que podrían presentar dificultades:

+
[cols="25,75"]
|===
| Campo | Descripción 


| Credenciales | Estas son las credenciales de la cuenta de administrador del clúster de Cloud Volumes ONTAP. Puede usar estas credenciales para conectarse a Cloud Volumes ONTAP a través de ONTAP System Manager o de su CLI. 


| Nombre del entorno de trabajo | BlueXP usa el nombre del entorno de trabajo para asignar un nombre tanto al sistema Cloud Volumes ONTAP como a la instancia de Amazon EC2. También utiliza el nombre como prefijo para el grupo de seguridad predefinido si selecciona esa opción. Haga clic en el campo y seleccione una de las 5 opciones. Puede permitir que el administrador escriba cualquier nombre seleccionando *texto libre*, o puede especificar que el nombre del entorno de trabajo debe tener un prefijo o sufijo determinado, que _contiene ciertos caracteres o que sigue las reglas de una expresión regular (regex) que introduzca. 


| Etiquetas | Las etiquetas de AWS son metadatos para sus recursos de AWS. BlueXP agrega las etiquetas a la instancia de Cloud Volumes ONTAP y cada recurso de AWS asociado a la instancia. Para obtener información sobre etiquetas, consulte https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html["Documentación de AWS: Etiquetado de los recursos de Amazon EC2"^]. 
|===
. *Ubicación y conectividad*: Introduzca la información de red que grabó en https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-planning-your-config.html#collect-networking-information["Hoja de cálculo de AWS"^]. Esto incluye la región, VPC, subred y grupo de seguridad de AWS.
+
Si tiene una publicación externa de AWS, puede implementar un sistema Cloud Volumes ONTAP de un solo nodo en esa publicación seleccionando el VPC de salida. La experiencia es la misma que cualquier otro VPC que resida en AWS.

. *Método de autenticación*: Seleccione el método de autenticación SSH que desea utilizar; una contraseña o un par de claves.
. *cifrado de datos*: Elija sin cifrado de datos o cifrado gestionado por AWS.
+
Para el cifrado gestionado por AWS, puede elegir una clave maestra de cliente (CMK) diferente de su cuenta u otra cuenta de AWS.

+
https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-setting-up-kms.html["Aprenda a configurar AWS KMS para el cloud Volumes ONTAP"^].

. *Método de carga*: Especifique la opción de carga que desea utilizar con este sistema.
+
https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-set-up-licensing-aws.html["Conozca estos métodos de carga"^].

. *Cuenta en la página de soporte de NetApp*: Seleccione una cuenta en la página de soporte de NetApp.
. *Paquetes preconfigurados*: Seleccione uno de los cuatro paquetes preconfigurados que determinarán varios factores para volúmenes creados en el entorno de trabajo.
. *Configuración de SMB*: Si planea implementar volúmenes mediante SMB en este entorno de trabajo, puede configurar un servidor CIFS y elementos de configuración relacionados.
. Haga clic en *aplicar* después de definir los parámetros necesarios para esta acción.
+
Si los valores de la plantilla se completan correctamente, se agrega una Marca de verificación verde al cuadro "Crear entorno de trabajo en AWS (nodo único)".

. Puede que desee agregar otra acción en esta plantilla para crear un volumen para este entorno de trabajo. Si es así, haga clic en image:button_plus_sign_round.png["botón más"] y agregue esa acción. Descubra cómo <<Cree una plantilla para un volumen de Cloud Volumes ONTAP,Cree una plantilla para un volumen de Cloud Volumes ONTAP>> para obtener más detalles.
. Introduzca el nombre de la plantilla en la parte superior izquierda.
. Haga clic en *Configuración y deriva* para obtener una descripción más detallada de modo que esta plantilla pueda distinguirse de otras plantillas similares y, por lo tanto, puede activar deriva para la plantilla general y, a continuación, haga clic en *aplicar*.
+
Drift permite a BlueXP supervisar los valores codificados de forma rígida introducidos para los parámetros al crear esta plantilla.

. Haga clic en *Guardar plantilla*.


.Resultado
Se crea la plantilla y se devuelve al Panel de plantillas donde aparece la nueva plantilla.

Consulte <<Qué hacer después de crear la plantilla,qué debe informar a sus usuarios acerca de las plantillas>>.



== Ejemplos de búsqueda de recursos existentes mediante plantillas

Con la acción _Find existing Resources_ puede encontrar entornos de trabajo específicos o encontrar volúmenes existentes proporcionando una variedad de filtros para limitar la búsqueda sólo a los recursos que le interesan. Después de encontrar los recursos correctos, podrá añadir volúmenes a un entorno de trabajo o habilitar un servicio cloud en los volúmenes resultantes.


NOTE: En este momento puede encontrar volúmenes en sistemas Cloud Volumes ONTAP, ONTAP en las instalaciones y Azure NetApp Files. Además, puedes habilitar el backup y recuperación de datos de BlueXP en Cloud Volumes ONTAP y los volúmenes de ONTAP en las instalaciones. Los recursos y servicios adicionales estarán disponibles más adelante.



=== Busque los volúmenes existentes y active un servicio cloud

La funcionalidad de acción _Buscar recursos existentes_ te permite buscar volúmenes en entornos de trabajo de ONTAP on-premises y de Cloud Volumes ONTAP en los que actualmente no tienen habilitados el backup y recuperación de BlueXP o la clasificación de BlueXP. Cuando habilita la copia de seguridad y recuperación de BlueXP en volúmenes específicos, esta acción también establece la política de backup que configuró como la política predeterminada para ese entorno de trabajo, de modo que todos los volúmenes futuros de esos entornos de trabajo puedan usar la misma política de backup.

.Pasos
. Seleccione *Estado > resolución*, haga clic en la ficha *Plantillas* y haga clic en *Agregar nueva plantilla*.
+
Se muestra la página _Select_a Template_.

+
image:screenshot_create_template_primary_action_blank.png["Una captura de pantalla que muestra cómo seleccionar la acción principal que se realizará con esta plantilla."]

. Seleccione *plantilla en blanco* y haga clic en *comenzar*.
+
Aparecerá la página _Add New Action_.

+
image:screenshot_create_template_find_resource_action.png["Una captura de pantalla que muestra cómo seleccionar la acción Buscar recursos existentes en la página Agregar nueva acción."]

. Seleccione *Buscar recursos existentes* como el tipo de acción que desea definir y haga clic en *aplicar*.
+
Se muestra la página _Find existing Resources Action Definition_.

+
image:screenshot_define_find_resource_action1.png["Una captura de pantalla que muestra una plantilla de recursos existentes de búsqueda en blanco que necesita rellenar."]

. *Nombre de acción*: Introduzca un nombre de acción personalizado en lugar del valor predeterminado. Por ejemplo, "Find large Volumes on cluster ABC and enable Backup".
. *Tipo de recurso:* Seleccione el tipo de recurso que desea encontrar. En este caso, puede seleccionar *volúmenes en Cloud Volumes ONTAP*.
+
Esta es la única entrada necesaria para esta acción. Puede hacer clic en *continuar* ahora y recibirá una lista de todos los volúmenes de todos los sistemas Cloud Volumes ONTAP de su entorno.

+
En su lugar, se recomienda rellenar algunos filtros para reducir el número de resultados (en este caso, volúmenes) sobre los que aplicarás la acción de backup y recuperación de BlueXP.

. En el área _context_ puede seleccionar un entorno de trabajo específico y otros detalles acerca de ese entorno de trabajo.
+
image:screenshot_define_find_resource_filter_context.png["Una captura de pantalla que muestra los filtros de contexto que puede aplicar a la plantilla Buscar recursos existentes."]

. En el área _Details_ puede seleccionar el nombre del volumen, el rango de tamaño de volumen y las etiquetas asignadas a los volúmenes.
+
Para el nombre del volumen, haga clic en el campo y seleccione una de las 5 opciones. Puede dejar que el administrador escriba cualquier nombre seleccionando *texto libre*, o puede especificar que el nombre del volumen debe tener un prefijo o sufijo determinado, que contiene ciertos caracteres, o que sigue las reglas de una expresión regular (regex) que introduzca.

+
Para el tamaño del volumen, puede especificar un rango; por ejemplo, todos los volúmenes entre 100 GIB y 500 GIB.

+
En el caso de las etiquetas, puede restringir aún más la búsqueda para que los resultados muestren solo volúmenes con ciertas parejas de clave de etiqueta/valor.

+
image:screenshot_define_find_resource_filter_details.png["Una captura de pantalla que muestra los filtros Detalles que puede aplicar a la plantilla Buscar recursos existentes."]

. Haga clic en *continuar* y la página se actualizará para mostrar los criterios de búsqueda definidos en la plantilla.
+
image:screenshot_define_find_resource_search_criteria.png["Captura de pantalla que muestra los criterios de búsqueda definidos para la plantilla de búsqueda de recursos existentes."]

. Haga clic en *probar ahora los criterios de búsqueda* para ver los resultados actuales.
+
** Si los resultados no son los esperados, haga clic en image:screenshot_edit_icon.gif["editar icono de lápiz"] Junto a _Search Criteria_ y afine aún más su búsqueda.
** Cuando los resultados sean buenos, haga clic en *hecho*.
+
La acción completada _Find Existing Resources_ aparece en la ventana del editor.



. Haga clic en el signo más para añadir otra acción, seleccione *Activar Cloud Backup en volumen* y haga clic en *aplicar*.
+
La acción _Enable Cloud Backup on Volume_ se agrega a la ventana.

+
image:screenshot_template_add_backup_action.png["Una captura de pantalla que muestra los pasos que hay que seguir para añadir una acción de backup y recuperación de BlueXP a tu plantilla."]

. Ahora puede definir los criterios de copia de seguridad tal como se describe en <<Añada la funcionalidad de backup a un volumen,Agregar la funcionalidad de backup a un volumen>> De forma que la plantilla aplique la política de copia de seguridad correcta a los volúmenes que seleccione de la acción _Find Existing Resources_ (Buscar recursos existentes).
. Haga clic en *aplicar* para guardar la personalización que realizó en la acción copia de seguridad y, a continuación, haga clic en *Guardar plantilla* cuando haya terminado.


.Resultado
Se crea la plantilla y se devuelve al Panel de plantillas donde aparece la nueva plantilla.

Consulte <<Qué hacer después de crear la plantilla,qué debe informar a sus usuarios acerca de las plantillas>>.



=== Buscar entornos de trabajo existentes

Mediante la acción _Find existing Resources_ puede buscar el entorno de trabajo y, a continuación, utilizar otras acciones de plantilla, como la creación de un volumen, para realizar fácilmente acciones en el entorno de trabajo existente.

.Pasos
. Seleccione *Estado > resolución*, haga clic en la ficha *Plantillas* y haga clic en *Agregar nueva plantilla*.
+
Se muestra la página _Select_a Template_.

+
image:screenshot_create_template_primary_action_blank.png["Una captura de pantalla que muestra cómo seleccionar la acción principal que se realizará con esta plantilla."]

. Seleccione *plantilla en blanco* y haga clic en *comenzar*.
+
Aparecerá la página _Add New Action_.

+
image:screenshot_create_template_find_resource_action.png["Una captura de pantalla que muestra cómo seleccionar la acción Buscar recursos existentes en la página Agregar nueva acción."]

. Seleccione *Buscar recursos existentes* como el tipo de acción que desea definir y haga clic en *aplicar*.
+
Se muestra la página _Find existing Resources Action Definition_.

+
image:screenshot_define_find_work_env.png["Una captura de pantalla que muestra una plantilla de recursos existentes de búsqueda en blanco que necesita rellenar."]

. *Nombre de acción*: Introduzca un nombre de acción personalizado en lugar del valor predeterminado. Por ejemplo, "Buscar entornos de trabajo que incluyan Dallas".
. *Tipo de recurso:* Seleccione el tipo de recurso que desea encontrar. En este caso, seleccione *entornos de trabajo*.
+
Esta es la única entrada necesaria para esta acción. Puede hacer clic en *continuar* ahora y recibirá una lista de todos los entornos de trabajo de su entorno.

+
En su lugar, se recomienda rellenar algunos filtros para reducir el número de resultados (en este caso, entornos de trabajo).

. Después de definir algunos filtros en el área _Details_, puede seleccionar un entorno de trabajo específico.
. Haga clic en *continuar* para guardar la configuración y, a continuación, haga clic en *hecho*.
. Introduzca el nombre de la plantilla en la parte superior izquierda y, a continuación, haga clic en *Guardar plantilla*


.Resultado
Se crea la plantilla y se devuelve al Panel de plantillas donde aparece la nueva plantilla.

Consulte <<Qué hacer después de crear la plantilla,qué debe informar a sus usuarios acerca de las plantillas>>.



== Ejemplos de habilitación de servicios mediante plantillas

Las plantillas de servicios te permiten activar los servicios de backup y recuperación de BlueXP, clasificación de BlueXP o replicación de BlueXP (SnapMirror) en un volumen recién creado.



=== Añada la funcionalidad de backup a un volumen

Al crear una plantilla de volumen, puede agregar en la plantilla que desea crear copias de seguridad del volumen periódicamente con el https://docs.netapp.com/us-en/bluexp-backup-recovery/concept-ontap-backup-to-cloud.html["Backup y recuperación de BlueXP"^] servicio.


TIP: Esta acción no es aplicable para volúmenes de Azure NetApp Files.

image:screenshot_template_backup.png["Captura de pantalla de la página para activar la funcionalidad de backup para sus volúmenes."]

. *Política*: Seleccione la política de copia de seguridad que desea utilizar.
. *Contexto*: De forma predeterminada, las variables se llenan para el entorno de trabajo, el equipo virtual de almacenamiento y el volumen para indicar que creará copias de seguridad para el volumen creado previamente en esta misma plantilla. Así que si eso es lo que quieres hacer, todo está listo.
+
Si desea crear backups para otro volumen, es posible introducir estos detalles manualmente. Descubra cómo link:reference-template-building-blocks.html#pass-values-between-template-actions["Complete los campos de contexto"] para indicar un volumen diferente.

. Haga clic en *aplicar* para guardar los cambios.




=== Añade la funcionalidad de clasificación de BlueXP a un volumen

Al crear una plantilla de volumen, puede agregar en la plantilla que desea analizar el volumen para su cumplimiento y clasificación mediante la https://docs.netapp.com/us-en/bluexp-classification/concept-cloud-compliance.html["Clasificación de BlueXP"^] servicio.

image:screenshot_template_data_sense.png["Captura de pantalla de la página para activar la funcionalidad de análisis para sus volúmenes."]

. *Contexto*: De forma predeterminada, las variables se rellenan para el entorno de trabajo, el nombre del volumen, el UUID del volumen, la ruta del volumen y el protocolo para indicar que va a analizar los datos del volumen creado previamente en esta misma plantilla. Así que si eso es lo que quieres hacer, todo está listo.
+
Si desea analizar datos para otro volumen, puede introducir estos detalles manualmente. Descubra cómo link:reference-template-building-blocks.html#pass-values-between-template-actions["Complete los campos de contexto"] para indicar un volumen diferente.

. Haga clic en *aplicar* para guardar los cambios.




=== Añade la funcionalidad de replicación de BlueXP a un volumen

Al crear una plantilla de volumen, puede agregar la plantilla que desea replicar los datos del volumen a otro volumen mediante el https://docs.netapp.com/us-en/bluexp-replication/concept-replication.html["Replicación de BlueXP"^] servicio. Puede replicar datos en un clúster de Cloud Volumes ONTAP o en un clúster de ONTAP en las instalaciones.


TIP: Esta acción no es aplicable para volúmenes de Azure NetApp Files.

La funcionalidad de replicación de BlueXP consta de tres partes: Seleccionar el volumen de origen, seleccionar el volumen de destino y definir la configuración de replicación. Cada sección se describe a continuación.

. *Detalles del origen*: Introduzca los detalles sobre el volumen de origen que desea replicar:
+
image:screenshot_template_replication_source.png["Una captura de pantalla de la página para definir la ubicación del volumen de origen de la replicación de BlueXP."]

+
.. De forma predeterminada, las tres primeras variables se llenan en el entorno de trabajo, la máquina virtual de almacenamiento y el volumen para indicar que va a replicar el volumen creado anteriormente en esta misma plantilla. Así que si eso es lo que quieres hacer, todo está listo.
+
Si desea replicar un volumen diferente, puede introducir esos detalles manualmente. Descubra cómo link:reference-template-building-blocks.html#pass-values-between-template-actions["Complete los campos de contexto"] para indicar un volumen diferente.

.. La replicación de BlueXP requiere que los entornos de trabajo de origen y destino estén conectados a través de sus LIF de interconexión de clústeres. Introduzca la dirección IP de la LIF entre clústeres para el entorno de trabajo de origen.
+
Para obtener esta información: Haga doble clic en el entorno de trabajo, haga clic en el icono de menú y haga clic en Información.



. *Detalles de destino*: Introduzca los detalles sobre el volumen de destino que creará la operación de replicación:
+
image:screenshot_template_replication_dest.png["Una captura de pantalla de la página para definir la ubicación del volumen de destino de replicación de BlueXP."]

+
.. Seleccione el entorno de trabajo donde se creará el volumen.
.. Seleccione la máquina virtual de almacenamiento donde reside el volumen.
.. Al replicar un volumen a un clúster de Cloud Volumes ONTAP (no a un clúster ONTAP en las instalaciones), debe especificar el proveedor de destino (AWS, Azure o GCP).
.. Al replicar un volumen en un clúster de Cloud Volumes ONTAP, puede especificar si la organización en niveles de volúmenes está habilitada en el volumen de destino.
.. Para el nombre del volumen de destino, haga clic en el campo y seleccione una de las 5 opciones. Puede dejar que el administrador escriba cualquier nombre seleccionando *texto libre*, o puede especificar que el nombre del volumen debe tener un prefijo o sufijo determinado, que contiene ciertos caracteres, o que sigue las reglas de una expresión regular (regex) que introduzca.
.. La replicación de BlueXP requiere que los entornos de trabajo de origen y destino estén conectados a través de sus LIF de interconexión de clústeres. Introduzca la dirección IP de la LIF entre clústeres para el entorno de trabajo de destino.
.. Seleccione el agregado en el que residirá el volumen.
.. Al replicar un volumen a un clúster de Cloud Volumes ONTAP (no a un clúster de ONTAP en las instalaciones), debe especificar el tipo de disco que se usará para el nuevo volumen.


. *Detalles de la replicación*: Introduzca los detalles sobre el tipo y la frecuencia de la operación de replicación:
+
image:screenshot_template_replication_policy.png["Una captura de pantalla de la página para definir los ajustes de replicación de BlueXP para la relación."]

+
.. Seleccione la https://docs.netapp.com/us-en/bluexp-replication/concept-replication-policies.html#types-of-replication-policies["política de replicación"^] que usted desea utilizar.
.. Seleccione una copia puntual o una programación de replicación recurrente.
.. Habilite la supervisión del estado de la replicación si desea que el informe drift incluya el estado de la replicación de la relación de SnapMirror junto con el tiempo de retraso, el estado y el momento de la última transferencia. link:task-check-template-compliance.html#bluexp-replication-health-details-in-the-drift-report["Vea cómo se ve esto en el informe sobre la deriva"].
.. Seleccione si desea establecer un límite de velocidad de transferencia y, a continuación, introduzca la tasa máxima (en kilobytes por segundo) a la que se pueden transferir los datos. Se puede introducir un valor fijo, o bien se puede proporcionar un valor mínimo y máximo para permitir que el administrador de almacenamiento seleccione un valor en ese rango.


. Haga clic en *aplicar* para guardar los cambios.




== Qué hacer después de crear la plantilla

Después de crear una plantilla, debe informar a los administradores de almacenamiento de que la utilicen al crear nuevos entornos y volúmenes de trabajo.

Usted puede señalarlos link:task-run-templates.html["Creación de recursos mediante plantillas"] para obtener más detalles.



== Edite o elimine una plantilla

Puede modificar una plantilla si necesita cambiar cualquiera de los parámetros. Después de guardar los cambios, todos los recursos futuros creados a partir de la plantilla utilizarán los nuevos valores de parámetro.

También puede eliminar una plantilla si ya no la necesita. La eliminación de una plantilla no afecta a ninguno de los recursos que se crearon con la plantilla. Sin embargo, no se puede realizar ninguna comprobación de cumplimiento de desviación una vez eliminada la plantilla.

image:screenshot_template_edit_remove.png["Captura de pantalla que muestra cómo modificar una plantilla o eliminarla."]



== Haga una copia de una plantilla

Puede crear una copia de una plantilla existente. Esto puede ahorrar mucho tiempo si desea crear una plantilla nueva que sea muy similar a una plantilla existente. Simplemente cree el duplicado con un nuevo nombre y, a continuación, puede editar la plantilla para cambiar los elementos de parejas que hacen única la plantilla.

image:screenshot_template_duplicate.png["Captura de pantalla que muestra cómo duplicar una plantilla."]
